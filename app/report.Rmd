---
title: Country-Level Institutional Assessment and Review (CLIAR)
subtitle: Institutional Benchmarking
output: 
  word_document
params:
  base_country: NA
  comparison_countries: NA
  data: NA
  family_data: NA
---

```{r, setup, include = FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE,
  fig.width = 9
)
```

```{r}

 # Auxiliary functions -----------------------------------------------------------------

  source(file.path("auxiliary",
                   "vars-by-family.R"))

  source(file.path("auxiliary",
                   "plots.R"))

  variable_names <-
    read_rds(file.path("data",
                       "variable_names.rds"))
  
  variable_names <-
        variable_names %>%
        select(family_var,
               family_name) %>%
        rename(var_name = family_name,
               variable = family_var) %>%
        unique
  
  definitions <-
    read_rds(file.path("data",
                       "indicator_definitions.rds"))
```

**Base country:** `r params$base_country`


**Comparison countries:** `r paste(params$comparison_countries, collapse = ", ")`

# Country overview

```{r, echo = FALSE}
params$family_data %>%
  static_plot(params$base_country,
              "Country overview", 
              title = FALSE)
```

# Institutional families

```{r}
params$data %>%
  filter(variable %in% vars_lab)  %>%
  static_plot(params$base_country,
              "Labor market institutions", 
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_fin)  %>%
  static_plot(params$base_country,
              "Financial market institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_leg)  %>%
  static_plot(params$base_country,
              "Legal Institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_pol)  %>%
  static_plot(params$base_country,
              "Political Institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_social)  %>%
  static_plot(params$base_country,
              "Social Institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_mkt)  %>%
  static_plot(params$base_country,
              "Business environment and trade institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_publ)  %>%
  static_plot(params$base_country,
              "Public sector performance institutions",
              title = FALSE) 

params$data %>%
  filter(variable %in% vars_service_del)  %>%
  static_plot(params$base_country,
              "Institutions for service delivery",
              title = FALSE) 


params$data %>%
  filter(variable %in% vars_transp)  %>%
  static_plot(params$base_country,
              "Accountability institutions",
              title = FALSE) 
```

# Appendix - Indicator definitions

## Labor market institutions

```{r}
knitr::kable(definitions[["Labor market institutions"]], format = "pipe")
```

## Financial market institutions

```{r}
knitr::kable(definitions[["Financial market institutions"]], format = "pipe")
```

## Legal institutions

```{r}
knitr::kable(definitions[["Legal institutions"]], format = "pipe")
```

## Political institutions

```{r}
knitr::kable(definitions[["Political institutions"]], format = "pipe")
```

## Social institutions

```{r}
knitr::kable(definitions[["Social institutions"]], format = "pipe")
```

## Business environment and trade institutions

```{r}
knitr::kable(definitions[["Business environment and trade institutions"]], format = "pipe")
```


## Public sector performance institutions

```{r}
knitr::kable(definitions[["Public sector performance institutions"]], format = "pipe")
```

## Institutions for service delivery

```{r}
knitr::kable(definitions[["Institutions for service delivery"]], format = "pipe")
```

## Accountability institutions

```{r}
knitr::kable(definitions[["Accountability institutions"]], format = "pipe")
```
